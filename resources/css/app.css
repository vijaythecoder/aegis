@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: 'DM Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
    --font-display: 'Syne', ui-sans-serif, system-ui, sans-serif;
    --font-mono: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

    --color-aegis-900: oklch(0.15 0.02 260);
    --color-aegis-850: oklch(0.18 0.025 260);
    --color-aegis-800: oklch(0.22 0.03 260);
    --color-aegis-700: oklch(0.30 0.04 260);
    --color-aegis-600: oklch(0.40 0.06 260);
    --color-aegis-500: oklch(0.55 0.12 260);
    --color-aegis-accent: oklch(0.75 0.18 175);
    --color-aegis-accent-dim: oklch(0.55 0.14 175);
    --color-aegis-glow: oklch(0.80 0.16 175);
    --color-aegis-surface: oklch(0.20 0.02 260);
    --color-aegis-surface-hover: oklch(0.24 0.025 260);
    --color-aegis-border: oklch(0.28 0.03 260);
    --color-aegis-text: oklch(0.92 0.01 260);
    --color-aegis-text-dim: oklch(0.60 0.02 260);
}

:root {
    --sidebar-width: 260px;
}

body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: var(--color-aegis-700);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--color-aegis-600);
}

.drag-region {
    -webkit-app-region: drag;
}

.no-drag {
    -webkit-app-region: no-drag;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4 {
    font-family: var(--font-display);
    color: var(--color-aegis-text);
    letter-spacing: -0.02em;
    margin-top: 1.25em;
    margin-bottom: 0.5em;
    line-height: 1.3;
}

.markdown-body h1 { font-size: 1.5em; font-weight: 700; }
.markdown-body h2 { font-size: 1.25em; font-weight: 700; }
.markdown-body h3 { font-size: 1.1em; font-weight: 600; }
.markdown-body h4 { font-size: 1em; font-weight: 600; }

.markdown-body p {
    color: var(--color-aegis-text);
    line-height: 1.7;
    margin-bottom: 0.75em;
}

.markdown-body p:last-child { margin-bottom: 0; }

.markdown-body strong { color: var(--color-aegis-text); font-weight: 600; }

.markdown-body a {
    color: var(--color-aegis-accent);
    text-decoration: none;
}

.markdown-body a:hover { text-decoration: underline; }

.markdown-body code {
    font-family: var(--font-mono);
    font-size: 0.8em;
    color: var(--color-aegis-accent);
    background: oklch(0.15 0.02 260 / 0.6);
    padding: 0.15em 0.4em;
    border-radius: 0.25em;
}

.markdown-body pre {
    background: var(--color-aegis-900);
    border: 1px solid var(--color-aegis-border);
    border-radius: 0.75em;
    padding: 1em;
    overflow-x: auto;
    margin: 0.75em 0;
}

.markdown-body pre code {
    background: none;
    padding: 0;
    font-size: 0.8em;
    color: var(--color-aegis-text);
}

.markdown-body ul,
.markdown-body ol {
    padding-left: 1.5em;
    margin: 0.5em 0;
    color: var(--color-aegis-text);
}

.markdown-body li { margin: 0.25em 0; line-height: 1.6; }

.markdown-body blockquote {
    border-left: 3px solid oklch(0.75 0.18 175 / 0.3);
    padding-left: 1em;
    margin: 0.75em 0;
    color: var(--color-aegis-text-dim);
    font-style: italic;
}

.markdown-body hr {
    border: none;
    border-top: 1px solid var(--color-aegis-border);
    margin: 1em 0;
}

.markdown-body table {
    width: 100%;
    border-collapse: collapse;
    margin: 0.75em 0;
    font-size: 0.85em;
}

.markdown-body th,
.markdown-body td {
    border: 1px solid var(--color-aegis-border);
    padding: 0.5em 0.75em;
    text-align: left;
}

.markdown-body th {
    background: var(--color-aegis-surface);
    font-weight: 600;
}

.streaming-content {
    animation: stream-fade-in 220ms ease-out;
}

.streaming-cursor {
    display: inline-block;
    width: 0.45rem;
    height: 1rem;
    margin-left: 0.2rem;
    border-radius: 2px;
    vertical-align: text-bottom;
    background: var(--color-aegis-accent);
    animation: stream-cursor-blink 0.9s steps(2, end) infinite;
}

@keyframes stream-cursor-blink {
    0%, 45% { opacity: 1; }
    46%, 100% { opacity: 0.1; }
}

@keyframes stream-fade-in {
    from {
        opacity: 0.55;
        transform: translateY(2px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
